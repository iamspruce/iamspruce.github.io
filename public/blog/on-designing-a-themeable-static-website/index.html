<!DOCTYPE html>
<html lang="en" data-theme="default" class="js-html">
<head>
    <meta charset="utf-8" />
<meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>
<title>
    Spruce | On Designing: A Themeable Static Website
</title>
<script>
    const scheme = localStorage.getItem('theme-name');
      document.documentElement.setAttribute('data-theme', scheme);

      const fontSize = localStorage.getItem('font-size');
    document.documentElement.style.setProperty('--font-size',  `${fontSize}px`);
    

    const position = localStorage.getItem('position');
    if (position == 'fixed') {
        document.documentElement.style.setProperty('--position', 'fixed');
        document.documentElement.style.setProperty('--top-margin', '96px');

    } else {
        document.documentElement.style.setProperty('--position', 'static');
        document.documentElement.style.setProperty('--top-margin', '0px');

    }    
    
  </script>
  <link rel="stylesheet" href="/assets/theme.css">

<meta name="description" content="" />
<meta property="og:description" content="" />

<meta name="author" content="Spruce" />
<meta property="og:url" content="/blog/on-designing-a-themeable-static-website/">

<meta property="og:image" content="/assets/img/spruce.png">
<meta name="twitter:image" content="/assets/img/spruce.png">
<meta name="twitter:card" content="summary">


    <meta name="author" content="Spruce Emmanuel">
    <meta property="og:site_name" content="Spruce Emmanuel">
    <meta property="og:locale" content="en_US">
    <meta name="twitter:site" content="@sprucekhalifa">
    <meta name="twitter:creator" content="@sprucekhalifa">
    <meta name="twitter:title" content="On Designing: A Themeable Static Website">
    <meta property="og:image:width" content="637">
    <meta property="og:image:width" content="403">
    
    <script type="application/ld+json">
        {
            "name":"Spruce Emmanuel",
            "description":"Spruce Emmanuel is a front-end web designer and developer based in Nigeria.",
            "author": {
                "@type":"Person",
                "name":"Spruce Emmanuel"
            },
            "@type":"WebSite",
            "url":"https://spruce.com.ng",
            "image":"' | url }}",
            "headline":"Spruce Emmanuel",
            "sameAs":[
                "https://twitter.com/sprucekhallifa",
                "https://github.com/iamspruce",
                "https://facebook.com/spruce.emma"
            ],
            "@context":"http://schema.org"
        }
    </script>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" href="/assets/img/favicon/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/assets/img/favicon/favicon-16x16.png" sizes="16x16">
    <link rel="shortcut icon" href="/assets/img/favicon/favicon.ico">
    <meta name="theme-color" content="">
    
<link rel="me" href="https://twitter.com/sprucekhalifa">
<meta charset="UTF-8">
    <link rel="stylesheet" href="/css/style.css">
  <!-- <link rel="alternate" type="application/rss+xml" title=" - " href="/feed.xml" />
 -->
 <script data-ad-client="ca-pub-9573781560829975" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4WLJKYZR1L"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4WLJKYZR1L');
</script>
<link rel="manifest" href="/manifest.json">
</head>
<body>
    <section class="section-theme">
<div class="section-theme__contain">
    <div class="theme__header flex">
        <h4 class="theme__title">
            Theme Settings
        </h4>
        <button class="header__icon js-close-theme" aria-expanded="false" aria-controls="nav-menu" aria-label="toggle menu">
            <svg class="icon icon--small icon--btn" width="26px" height="26px">
                <title>Close Theme Switcher</title>
                <use xlink:href="#icon-close"></use>
            </svg>
        </button>
    </div>
   
    <div class=" theme__top">
        <div class="js-tab-content theme-top-col show" id="tab-1-content">
            <h5 class="theme-title">
                Fonts
            </h5>
            <p>Choose default font size for articles</p>
    
            <div class="theme-btn-wrapper js-btn-wrapper">
                <button class="btn btn--small btn--border js-font-btn" value="16">16px</button>
                <button class="btn btn--small btn--border js-font-btn" value="18">18px</button>
                <button class="btn btn--small btn--border js-font-btn" value="20">20px</button>
                <button class="btn btn--small btn--border js-font-btn" value="22">22px</button>
            </div>
        </div>
        <div class="js-tab-content theme-top-col two" id="tab-2-content">
            <h5 class="theme-title">
                Fixed Header
            </h5>
            <p>Static or Fixed Header? your choice</p>

            <div class="check-wrapper">
                <span id="btn-label" class="sr-only">Fixed or static header</span>
               <button role="switch" type="button" aria-checked="true" aria-labelledby="btn-label" class="js-theme-toggle btn btn--border btn--rounded btn--toggle">
                   <span>On</span>
                   <span>Off</span>
               </button>
            </div>
        </div>
    </div>
    <div class="js-tab-content theme__bottom" id="tab-3-content">
        <h5 class="theme-title">
            Choose Color Scheme
        </h5>
        <p>Pick a color scheme of your choice</p>

        <div class="theme-color-wrapper js-theme-scheme">
            
        <button type="button" class="theme-color js-theme-color" style="background-color: #ffffff; border: 1px solid #f8f8f8" value="default">
                    <div class="theme-color__secondary" style="background-color: #f8f8f8; margin-bottom: .5em;"></div>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #222126 100%, #222126 100%); color: #222126"></span>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #222126 100%, #222126 100%); color: #222126"></span> <br>
                   <div class="flex">
                    <span class="theme-color__name" style="color: #222126;">
                        default
                    </span>
                    <span class="theme-span-wrapper" style="margin-top: .5em;">
                        <span style="background-color: #665df5;"></span>
                        <span style="background-color: #6ad1e0;"></span>
                        <span style="background-color: #382cf1;"></span>
                    </span>
                   </div>
                </button>
            
        <button type="button" class="theme-color js-theme-color" style="background-color: #16161a; border: 1px solid #242629" value="dark">
                    <div class="theme-color__secondary" style="background-color: #242629; margin-bottom: .5em;"></div>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #fffffe 100%, #fffffe 100%); color: #fffffe"></span>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #fffffe 100%, #fffffe 100%); color: #fffffe"></span> <br>
                   <div class="flex">
                    <span class="theme-color__name" style="color: #fffffe;">
                        dark
                    </span>
                    <span class="theme-span-wrapper" style="margin-top: .5em;">
                        <span style="background-color: #ff8906;"></span>
                        <span style="background-color: #2cb67d;"></span>
                        <span style="background-color: #75757e;"></span>
                    </span>
                   </div>
                </button>
            
        <button type="button" class="theme-color js-theme-color" style="background-color: #004643; border: 1px solid #abd1c6" value="green">
                    <div class="theme-color__secondary" style="background-color: #abd1c6; margin-bottom: .5em;"></div>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #fffffe 100%, #fffffe 100%); color: #fffffe"></span>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #fffffe 100%, #fffffe 100%); color: #fffffe"></span> <br>
                   <div class="flex">
                    <span class="theme-color__name" style="color: #fffffe;">
                        green
                    </span>
                    <span class="theme-span-wrapper" style="margin-top: .5em;">
                        <span style="background-color: #f9bc60;"></span>
                        <span style="background-color: #e16162;"></span>
                        <span style="background-color: #abd1c6;"></span>
                    </span>
                   </div>
                </button>
            
        <button type="button" class="theme-color js-theme-color" style="background-color: #eff0f3; border: 1px solid #fffffe" value="fame">
                    <div class="theme-color__secondary" style="background-color: #fffffe; margin-bottom: .5em;"></div>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #0d0d0d 100%, #0d0d0d 100%); color: #0d0d0d"></span>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #0d0d0d 100%, #0d0d0d 100%); color: #0d0d0d"></span> <br>
                   <div class="flex">
                    <span class="theme-color__name" style="color: #0d0d0d;">
                        fame
                    </span>
                    <span class="theme-span-wrapper" style="margin-top: .5em;">
                        <span style="background-color: #ff8e3c;"></span>
                        <span style="background-color: #d9376e;"></span>
                        <span style="background-color: #eaddcf;"></span>
                    </span>
                   </div>
                </button>
            
        <button type="button" class="theme-color js-theme-color" style="background-color: #232946; border: 1px solid #d4d8f0" value="dark-blue">
                    <div class="theme-color__secondary" style="background-color: #d4d8f0; margin-bottom: .5em;"></div>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #fffffe 100%, #fffffe 100%); color: #fffffe"></span>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #fffffe 100%, #fffffe 100%); color: #fffffe"></span> <br>
                   <div class="flex">
                    <span class="theme-color__name" style="color: #fffffe;">
                        dark-blue
                    </span>
                    <span class="theme-span-wrapper" style="margin-top: .5em;">
                        <span style="background-color: #eebbc3;"></span>
                        <span style="background-color: #b8c1ec;"></span>
                        <span style="background-color: #eaddcf;"></span>
                    </span>
                   </div>
                </button>
            
        <button type="button" class="theme-color js-theme-color" style="background-color: #55423d; border: 1px solid #271c19" value="brown">
                    <div class="theme-color__secondary" style="background-color: #271c19; margin-bottom: .5em;"></div>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #fffffe 100%, #fffffe 100%); color: #fffffe"></span>
        <span class="theme-color-text" style="background: linear-gradient(180deg, #fffffe 100%, #fffffe 100%); color: #fffffe"></span> <br>
                   <div class="flex">
                    <span class="theme-color__name" style="color: #fffffe;">
                        brown
                    </span>
                    <span class="theme-span-wrapper" style="margin-top: .5em;">
                        <span style="background-color: #ffc0ad;"></span>
                        <span style="background-color: #e78fb3;"></span>
                        <span style="background-color: #9656a1;"></span>
                    </span>
                   </div>
                </button>
            
        </div>
    </div>
</div>
</section>
<div class="nav__overlay fixed__right js-nav">
    <nav class="nav">
        <div class="nav__header flex">
            <a class="header__logo flex" href="/" rel="home" aria-label="Go To Homepage">
                <img class="header__logo--avatar" src="/assets/img/spruce.png" alt="" width="38px" height="38px"> 
                <span class="header__logo--text">Spruce</span>
            </a>
            <button class="nav__icon js-nav-close" aria-expanded="false" aria-controls="nav-menu" aria-label="close menu">
                <svg class="icon icon--small icon--btn" width="18px" height="18px">
                    <title>Close Navigation</title>
                    <use xlink:href="#icon-close"></use>
                </svg>
            </button>
        </div>
        <div class="footer__links--col first">
            <div class="title">
                site links

            </div>
            <ul class="link__items">
                <li class="link__items--list">
                <a href="/" class="link">
              Homepage
            </a>
            </li>
                <li class="link__items--list">
                <a href="/about/" rel="about" class="link">
                    About Me
                </a>
                </li>
                    <li class="link__items--list">
                        <a href="/articles/" class="link">
                        Articles
                    </a>
                    </li>
                    <li class="link__items--list">
                        <a href="/privacy/" class="link">
                        Privacy
                    </a>
                    </li>
                    </ul>
                    </div>

                    <div class="footer__links--col">
                        <div class="title">
                            other links
                        </div>
                        <ul class="link__items">
                            <li class="link__items--list">
                                <a href="https://facebook.com/spruce.com.ng" target="_blank" rel="noreferrer noopener" class="link">
                                    Facebook
                                </a>
                            </li>
                            <li class="link__items--list">
                                    <a href="https://twitter.com/sprucekhalifa" target="_blank" rel="noreferrer noopener" class="link">
                                        @sprucekhalifa
                                    </a>
                                </li>
                                <li class="link__items--list">
                                    <a href="https://instagram.com/iamspruce" target="_blank" rel="noreferrer noopener" class="link">
                                        @iamspruce
                                    </a>
                                </li>
                            </ul>
                        </div>
    </nav>
</div><header class="header fixed fixed__top" role="banner">
    <div class="header__inner container flex">
        <a class="header__logo flex" href="/" rel="home" aria-label="Go To Homepage">
            <img class="header__logo--avatar" src="/assets/img/spruce.png" alt="" width="38px" height="38px"> 
            <span class="header__logo--text">Spruce</span>
        </a>
        <button style="margin-left: auto; font-size: 18px;" class="header__icon js-theme-btn" aria-expanded="false" aria-controls="nav-menu" aria-label="toggle menu">
            Theme
        </button>
        <button class="header__icon js-nav-open" aria-expanded="false" aria-controls="nav-menu" aria-label="toggle menu">
            <svg class="icon icon--small icon--btn" width="26px" height="26px">
                <title>Open Navigation</title>
                <use xlink:href="#icon-menu"></use>
            </svg>
        </button>
    </div>
    </header><main id="main" class="">
    <head>
  <script src="https://cdn.jsdelivr.net/gh/ireade/caniuse-embed/public/caniuse-embed.min.js"></script>
  <script async src="https://static.codepen.io/assets/embed/ei.js"></script>  
 </head> 
<div class="container">
    <section class="section">
      <div class="article__wrapper">
          <div class="article__header" >
            <div class="article__meta">
              <span class="article__meta-published-date">December 25, 2020</span>
            </div>
            <h1 class="article__heading">On Designing: A Themeable Static Website</h1>
            <p class="article__meta-authors">
            </p>
          </div>
  </div>
</section>
    <section class="section section--pad__btm section--full">
  <img class="image article__hero-image" src="/blog/on-designing-a-themeable-static-website/img/preview.png" alt="On Designing: A Themeable Static Website"></section>
    <section class="section article__body">
<p>A while ago i wanted to create a dark theme for my <a href="https://spruce.com.ng">personal site</a> so i did some clicking around to find out the most suitable and <b>clean</b> way to do this, so i read <a href="https://mxb.dev/blog/color-theme-switcher">Max Bock's article on creating a custom theme</a>, and he explained how to create a custom theme, and he really went super pro(with TEN(10) different color schemes).</p>
<p>
    But for my case i wanted more, i wanted users to be able to change the color scheme to the different color schemes provided, i also wanted users to change the font size, i had a fixed header on my site which was kind of great but on small mobile devices the header was taking quiet a lot of space which is not too good for design i hope you agree, So i also gave users the ability to turn off the fixed header.... 
</p>
<figure class="p-article__img">
    <img src="img/spruce-theme.png" alt="Preview of spruce theme-able website" />
  <figcaption>
  Preview of spruce's theme-able website
  </figcaption>
   </figure>
   <p>
       Live preview of this can be found in my personal site <a href="https://spruce.com.ng" target="_blank" rel="noopener noreferrer"></a>, you can also copy the source codes here <a href="#copy-code">here</a> to save you a few read time...
   </p>
   <h2>What i wanted to do</h2>
   <ol>
       <li>
           Asked users their preferred color scheme, font size and header type(Fixed or Static)
       </li>
       <li>
           Collect user choices
       </li>
       <li>
           Save them in localStorage
       </li>
       <li>
           Get them from localStorage and show them to the user immediately, on page reload, when they switch tab and come back, when they close their browser and come back after a week or month
       </li>
   </ol>
   <h2>Creating the theme</h2>
   <p>
    In 11ty(the static site am using) you can create a json file in the <b>_data</b> folder and you can access the data globally in  your template, <b>jekyll</b> does that too and probably your prefarred static site generator(SSG) can also do the same also.
   </p>
   <pre class="language-json">
    <code class="language-json">
<span>_data/themes.json file</span>
[
    {
        "id": "default",
        "colors": {
            "text": "#222126",
            "text-dark": "#777;",
            "border": "rgba(0,0,0,.1)",
            "primary": "#665df5",
            "secondary": "#6ad1e0",
            "primary-dark": "#382cf1",
            "bg": "#ffffff",
            "bg-alt": "#f8f8f8",
            "overlay": "rgba(255, 255, 255, .4)"
        }
                }, 
    ... other color schemes
]
    </code>
   </pre>
   <h2>
       Generating the css
   </h2>
   <p>
       And then to use the data file, create a <b>theme.css.liquid</b> file and give it a permalink of where you want the css file output to.
   </p>
   <pre class="language-liquid">
    <code class="language-liquid">
<span>css/theme.css.liquid file</span>
---
permalink: /css/theme.css
---
// when no theme is selected
// use default theme
:root {
    --text: #222126;
    --text-dark: #777;;
    --border: rgba(0,0,0,.1);
    --primary: #665df5;
    --secondary: #6ad1e0;
    --primary-dark: #382cf1;
    --bg: #ffffff;
    --bg-alt: #f8f8f8;
}  
// if user preferred color scheme is dark
// use the dark theme
<p>@media(prefers-color-scheme: dark) {
:root {
--text: #fffffe;
--text-dark: #94a1b2;
--border: rgba(255,255,255,.1);
--primary: #ff8906;
--secondary: #2cb67d;
--primary-dark: #75757e;
--bg: #16161a;
--bg-alt: #242629;
}
}
// generate the theme css from the data file
// here we use a for loop
// to iterate over all the themes in our _data/themes.json
// and output them as plain css</p>
<p>{% for theme in themes %}
[data-theme=&quot;{{ theme.id }}&quot;] {
--text: {{ theme.colors.text }};
--text-dark: {{ theme.colors.text-dark }};
--border: {{ theme.colors.border }};
--primary: {{ theme.colors.primary }};
--secondary: {{ theme.colors.secondary }};
--primary-dark: {{ theme.colors.primary-dark }};
--bg: {{ theme.colors.bg }};
--bg-alt: {{ theme.colors.bg-alt }};
}
{% endfor %}</p>
<p>nnn
</code>
</pre></p>
   <p>
       Notice am using <b>themes[0].colors.text</b>, that's because my default theme is the first one on the list and it has an index of 0, so also my dark theme has an index of 1.
   </p>
   <p>
       In <b>Jekyll</b> you can output liquid in a css by just adding empty front matter at the top of the file.  
   </p>
   <pre class="language-css">
       <code class="language-css">
<span>css/theme.css file</span>
---
---
<p>// your liquid in css goes here
</code>
</pre></p>
   <p>
       I'm sure your favourite static site generator provides a similar way to output liquid in a css file. You can also handcode all this if you are just writing plain html and css without a SSG.
   </p>
   <h2>
      Using the Css in your site
   </h2>
   <p>
       If you are reading this i assume that you already know how to work with css custom properties so i would rather not go in depth
   </p>
   <pre class="language-css">
       <code class="language-css">
// css custom properties are declared using the keyword <b>var</b>
// color: var(--text);
<p>body {
background: var(--bg);
color: var(--text);
}
h1,h2 {
color: var(--text-dark)
}
// i also had default font-size and margin-top properties set
// i added this to the :root in css
:root {
--font-size: 18px;
--position: fixed;
--top-margin: 96px;
}
</code>
</pre>
</p>
You just have to change every bit of color on your site to the custom properties you have generated.
</p><br>
<h2>
Generating the html
</h2>
<p>
Now let's provide a UI to allow users change the font size, header type and color scheme of our site, though mine is a little bit simple you can take yours more further, am just explaining the concept here.
</p>
<pre class="language-html">
<code class="language-html">
<span>theme.html file</span>
// create the font buttons
// I gave each button a value
// I want to get the value and save it in local storage</p>
<pre><code>&lt;section class=&quot;theme-section&quot;&gt;
    &lt;div class=&quot;theme-btn-wrapper&quot;&gt;
        &lt;button class=&quot;btn btn--small btn--border js-font-btn&quot; value=&quot;16&quot;&gt;16px&lt;/button&gt;
        &lt;button class=&quot;btn btn--small btn--border js-font-btn&quot; value=&quot;18&quot;&gt;18px&lt;/button&gt;
        &lt;button class=&quot;btn btn--small btn--border js-font-btn&quot; value=&quot;20&quot;&gt;20px&lt;/button&gt;
        &lt;button class=&quot;btn btn--small btn--border js-font-btn&quot; value=&quot;22&quot;&gt;22px&lt;/button&gt;
    &lt;/div&gt;
&lt;/section&gt;
</code></pre>
<p>// Create the toggle button
// To turn On &amp; Off
// The fixed header
// The <b>sr-only</b> is used to hide the text visually
// while keeping accessibilty in mind
// note the <b>role=&quot;switch&quot;</b> nd aria-checked
// they are what turns the button to a On and Off switch</p>
<pre><code>&lt;div class=&quot;check-wrapper&quot;&gt;
    &lt;span id=&quot;btn-label&quot; class=&quot;sr-only&quot;&gt;Fixed or static header&lt;/span&gt;
   &lt;button role=&quot;switch&quot; type=&quot;button&quot; aria-checked=&quot;true&quot; aria-labelledby=&quot;btn-label&quot; class=&quot;js-theme-toggle btn btn--border btn--rounded btn--toggle&quot;&gt;
       &lt;span&gt;On&lt;/span&gt;
       &lt;span&gt;Off&lt;/span&gt;
   &lt;/button&gt;
&lt;/div&gt;
</code></pre>
<p>nnn
</code>
</pre>
<p>
thats pretty much the html for my use case, again you can do more if you want and there are some css styling involved which would be left out in our case
</p>
<h2>
The fun part: Creating the Javascript
</h2>
<pre class="language-js">
<code class="language-js">
<span>/assets/js/theme.js file</span></p>
<pre><code>class CustomTheme {
    constructor() {
        // part A: check if localStorage works
        this.islocalStorage = function() {
            try {
                localStorage.setItem(&quot;test&quot;, &quot;testing&quot;);
                localStorage.removeItem(&quot;test&quot;);
                return true;
            } catch (error) {
                return false
            }
           
        };
        // part B: Get the value from the buttons
        this.schemeBtns = document.querySelectorAll('.js-theme-color');
        this.schemeBtns.forEach((btn) =&gt; {
            const btnVal = btn.value;
            btn.addEventListener('click', () =&gt; this.themeScheme(btnVal))
        });

        this.fontBtns = document.querySelectorAll('.js-font-btn');
        this.fontBtns.forEach((btn) =&gt; {
            const btnVal = btn.value;
            const btnTag = btn;
            btn.addEventListener('click', () =&gt; this.themeFont(btnVal, btnTag))
        });

        // part C: get the html button element
        this.switchBtn = document.querySelector('.js-theme-toggle');
        const clicked = this.switchBtn;
        this.switchBtn.addEventListener('click', () =&gt; this.themePosition(clicked))
    }

    // part D: Save the data in localStorage
    themeScheme(btnVal) {
        document.documentElement.setAttribute('data-theme', btnVal);
        if (this.islocalStorage) {
            localStorage.setItem('theme-name', btnVal);
        }
    };
    
    themeFont(btnVal,btnTag) {
        document.documentElement.style.setProperty('--font-size', `${btnVal}px`);
        if (this.islocalStorage) {
            localStorage.setItem('font-size', btnVal);
        }
        ;
        if (btnVal == localStorage.getItem('font-size')) {
            removeActive();
            btnTag.classList.add('active');
    }
};

    themePosition(clicked) {
    if (clicked.getAttribute('aria-checked') == 'true') {
        clicked.setAttribute('aria-checked', 'false');
        document.documentElement.style.setProperty('--position', 'static');
        document.documentElement.style.setProperty('--top-margin', '0px');
        if (this.islocalStorage) {
            localStorage.setItem('position', 'static');
        }

    } else {
        clicked.setAttribute('aria-checked', 'true');
        document.documentElement.style.setProperty('--position', 'fixed');
        document.documentElement.style.setProperty('--top-margin', '96px');
        if (this.islocalStorage) {
            localStorage.setItem('position', 'fixed');
        }
    }

    }
}

function removeActive() {
    const btns = document.querySelectorAll('.js-font-btn');
    btns.forEach((btn) =&gt; {
        btn.classList.remove('active');
    })
}

// part E: Only use our class if css custom properties are supported
if (window.CSS &amp;&amp; CSS.supports('color', 'var(--i-support')) {
    new CustomTheme()
};

// part E: Add an active class to selected font size button

window.addEventListener('load', () =&gt; {
    const fontBtns = document.querySelectorAll('.js-font-btn');
    fontBtns.forEach((btn) =&gt; {
        const btnVal = btn.value;
        const btnTag = btn;
        if (btnVal == localStorage.getItem('font-size')) {
            btnTag.classList.add('active');
    }
    });   
})
</code></pre>
<p>nnn
</code>
</pre>
<p>
I know thats a long javascript chunk of code, but it basically does only a few things, it collects and check if localStorage is supported and then save the data in localStorage... <br>
also notice i used <b>Javascript Classes</b> you could use functions as well.
</p>
<p>
A lot of browsers support localStorage this days, but why do we need to still check? Some users may be browsing your site on <b>icgnito mode(private browsing mode)</b> and sometimes localStorage is turned off by default so as to not save anything on the users device, don't blame them lol, they are just doing their work. So instead of saving it direct and sometimes get an error on browsers that don't support it, we check if a browser does, if it does great and if it dosen't we are also cool.
</p>
<p>
Now if you notice everything seems to work just fine, but if you change the theme or font size and you reload your browser, everything is going to revert to default, that's because we haven't used the data we stored in <b>localStorage</b><br>
</p>
<p>
So go ahead and add this piece of code to top of your head file before any css file, this is done to eliminate the flash you get when you reload your browser
</p>
<pre class="language-js">
<code class="language-js"></p>
<pre><code>&lt;script&gt;
    const scheme = localStorage.getItem('theme-name');
      document.documentElement.setAttribute('data-theme', scheme);

      const fontSize = localStorage.getItem('font-size');
    document.documentElement.style.setProperty('--font-size',  `${fontSize}px`);
    

    const position = localStorage.getItem('position');
    if (position == 'fixed') {
        document.documentElement.style.setProperty('--position', 'fixed');
        document.documentElement.style.setProperty('--top-margin', '96px');

    } else {
        document.documentElement.style.setProperty('--position', 'static');
        document.documentElement.style.setProperty('--top-margin', '0px');

    }    
    
  &lt;/script&gt;
</code></pre>
<p>nn
</code>
</pre>
<h2>
Wrapping up
</h2>
<p>
And that's it a simple customizable static site, the main purpose of this guide is to show you the endless possibilities of creating a user customizable website. So go ahead and develop what you want, I mean there are a lot of things to be done...
</p>
<h2>
Things you could do
</h2>
<ol>
<li>
Show users specific content based on user choices
</li>
<li>
Display notification messages based on user visit
</li>
<li>
You could also display ads in the list most annoying ads by showing users ads based on user choices
</li>
</ol>
<p>
This and a lot more we could do with our SSG's, Just iamgine the endless possibilities.
</p>
<h2>
Other Resources
</h2>
<p>
<a href="https://mxb.dev/blog/color-theme-switcher">Max Bock's article on creating a custom theme</a>
</p>
<p>
<a href="http://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties" target="_blank" rel="noopener noreferrer"></a>
</p>
<p id="copy-code">
Not much of a tutorial person? you can copy the complete source code <a target="_blank" href="https://spruce.com.ng/blog/on-designing-a-themeable-static-website">here</a>.
</p></p>

</section>
</div>
</main><footer class="footer">
    <div class="footer__inner container">
        <div class="footer__intro">
            <div class="footer__logo">
                <a class="footer__logo" href="/" rel="home" aria-label="Go To Homepage">
                    <img class="header__logo--avatar" src="/assets/img/spruce.png" alt="" width="32px" height="32px"> 
                </a>
            </div>
            <p class="footer__text">
                Content of this blog are written by <a href="/about/" class="link">me</a> or otherwise stated.
                Developed and designed with love and <a href="https://11ty.com" class="link">11TY</a> on <b>GITHUB PAGES</b>, by <a href="/about/" class="link">Spruce</a>
            </p>
        </div>
        <div class="footer__links">
            
                <div class="footer__links--col">
                <div class="title">
                    site links

                </div>
                <ul class="link__items">
                    <li class="link__items--list">
                    <a href="/" class="link">
                  Homepage
                </a>
                </li>
                    <li class="link__items--list">
                    <a href="/about/" rel="about" class="link">
                        About Me
                    </a>
                    </li>
                        <li class="link__items--list">
                            <a href="/articles/" class="link">
                            Articles
                        </a>
                        </li>
                        </ul>
                        </div>
                            <div class="footer__links--col">
                                <div class="title">
                                    other links
                                </div>
                                <ul class="link__items">
                                    <li class="link__items--list">
                                        <a href="https://facebook.com/spruce.com.ng" target="_blank" rel="noreferrer noopener" class="link">
                                            Facebook
                                        </a>
                                    </li>
                                    <li class="link__items--list">
                                            <a href="https://twitter.com/sprucekhalifa" target="_blank" rel="noreferrer noopener" class="link">
                                                @sprucekhalifa
                                            </a>
                                        </li>
                                        <li class="link__items--list">
                                            <a href="https://instagram.com/iamspruce" target="_blank" rel="noreferrer noopener" class="link">
                                                Instagram
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                         
        </div>
    </div>
</footer>
</body>
<script>
    // Initialize the service worker
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
        navigator.serviceWorker.register("/sw.js").then(registration => {
            console.log(`Serviceworker registered ${registration.scope}`);
        }), err => {
            console.log(`Serviceworker failed ${err}`);

        }

        })
    }
</script>
<script src="/assets/js/main.js"></script>
<script src="/assets/js/theme.js"></script>



<svg width="0" height="0" style="display:none" xmlns="http://www.w3.org/2000/">
    <symbol id="icon-caret-right" viewBox="0 0 20 20">
      <path d="M14.989,9.491L6.071,0.537C5.78,0.246,5.308,0.244,5.017,0.535c-0.294,0.29-0.294,0.763-0.003,1.054l8.394,8.428L5.014,18.41c-0.291,0.291-0.291,0.763,0,1.054c0.146,0.146,0.335,0.218,0.527,0.218c0.19,0,0.382-0.073,0.527-0.218l8.918-8.919C15.277,10.254,15.277,9.784,14.989,9.491z"></path>        
  </symbol>
     
      <symbol id="icon-close" viewBox="0 0 20 20">
        <path d="M11.469,10l7.08-7.08c0.406-0.406,0.406-1.064,0-1.469c-0.406-0.406-1.063-0.406-1.469,0L10,8.53l-7.081-7.08
        c-0.406-0.406-1.064-0.406-1.469,0c-0.406,0.406-0.406,1.063,0,1.469L8.531,10L1.45,17.081c-0.406,0.406-0.406,1.064,0,1.469
        c0.203,0.203,0.469,0.304,0.735,0.304c0.266,0,0.531-0.101,0.735-0.304L10,11.469l7.08,7.081c0.203,0.203,0.469,0.304,0.735,0.304
        c0.267,0,0.532-0.101,0.735-0.304c0.406-0.406,0.406-1.064,0-1.469L11.469,10z"></path>
              
      </symbol>
     
      <symbol id="logo-twitter" viewBox="0 0 20 20">
        <path d="M18.258,3.266c-0.693,0.405-1.46,0.698-2.277,0.857c-0.653-0.686-1.586-1.115-2.618-1.115c-1.98,0-3.586,1.581-3.586,3.53c0,0.276,0.031,0.545,0.092,0.805C6.888,7.195,4.245,5.79,2.476,3.654C2.167,4.176,1.99,4.781,1.99,5.429c0,1.224,0.633,2.305,1.596,2.938C2.999,8.349,2.445,8.19,1.961,7.925C1.96,7.94,1.96,7.954,1.96,7.97c0,1.71,1.237,3.138,2.877,3.462c-0.301,0.08-0.617,0.123-0.945,0.123c-0.23,0-0.456-0.021-0.674-0.062c0.456,1.402,1.781,2.422,3.35,2.451c-1.228,0.947-2.773,1.512-4.454,1.512c-0.291,0-0.575-0.016-0.855-0.049c1.588,1,3.473,1.586,5.498,1.586c6.598,0,10.205-5.379,10.205-10.045c0-0.153-0.003-0.305-0.01-0.456c0.7-0.499,1.308-1.12,1.789-1.827c-0.644,0.28-1.334,0.469-2.06,0.555C17.422,4.782,17.99,4.091,18.258,3.266"/></symbol>
        <symbol id="icon-read" viewBox="0 0 24 24">
        <path d="M9.896,3.838L0.792,1.562v14.794l9.104,2.276L19,16.356V1.562L9.896,3.838z M9.327,17.332L1.93,15.219V3.27
                                  l7.397,1.585V17.332z M17.862,15.219l-7.397,2.113V4.855l7.397-1.585V15.219z"></path>
          </symbol>
          <symbol id="logo-facebook" viewBox="0 0 20 20">
            <path d="M11.344,5.71c0-0.73,0.074-1.122,1.199-1.122h1.502V1.871h-2.404c-2.886,0-3.903,1.36-3.903,3.646v1.765h-1.8V10h1.8v8.128h3.601V10h2.403l0.32-2.718h-2.724L11.344,5.71z"/></symbol>
           
  
              <symbol id="logo-instagram" viewBox="0 0 20 20">
                <path d="M14.52,2.469H5.482c-1.664,0-3.013,1.349-3.013,3.013v9.038c0,1.662,1.349,3.012,3.013,3.012h9.038c1.662,0,3.012-1.35,3.012-3.012V5.482C17.531,3.818,16.182,2.469,14.52,2.469 M13.012,4.729h2.26v2.259h-2.26V4.729z M10,6.988c1.664,0,3.012,1.349,3.012,3.012c0,1.664-1.348,3.013-3.012,3.013c-1.664,0-3.012-1.349-3.012-3.013C6.988,8.336,8.336,6.988,10,6.988 M16.025,14.52c0,0.831-0.676,1.506-1.506,1.506H5.482c-0.831,0-1.507-0.675-1.507-1.506V9.247h1.583C5.516,9.494,5.482,9.743,5.482,10c0,2.497,2.023,4.52,4.518,4.52c2.494,0,4.52-2.022,4.52-4.52c0-0.257-0.035-0.506-0.076-0.753h1.582V14.52z"/></symbol>
                
  
                  <symbol id="logo-github" viewBox="0 0 24 24">
                    <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                  </symbol>
                   
          <symbol id="icon-menu" viewBox="0 0 20 20">
            <path d="M3.314,4.8h13.372c0.41,0,0.743-0.333,0.743-0.743c0-0.41-0.333-0.743-0.743-0.743H3.314
              c-0.41,0-0.743,0.333-0.743,0.743C2.571,4.467,2.904,4.8,3.314,4.8z M16.686,15.2H3.314c-0.41,0-0.743,0.333-0.743,0.743
              s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,15.2,16.686,15.2z M16.686,9.257H3.314
              c-0.41,0-0.743,0.333-0.743,0.743s0.333,0.743,0.743,0.743h13.372c0.41,0,0.743-0.333,0.743-0.743S17.096,9.257,16.686,9.257z"></path>
          </symbol>
          <symbol id="icon-tag" viewBox="0 0 20 20">
            <path d="M17.35,2.219h-5.934c-0.115,0-0.225,0.045-0.307,0.128l-8.762,8.762c-0.171,0.168-0.171,0.443,0,0.611l5.933,5.934c0.167,0.171,0.443,0.169,0.612,0l8.762-8.763c0.083-0.083,0.128-0.192,0.128-0.307V2.651C17.781,2.414,17.587,2.219,17.35,2.219M16.916,8.405l-8.332,8.332l-5.321-5.321l8.333-8.332h5.32V8.405z M13.891,4.367c-0.957,0-1.729,0.772-1.729,1.729c0,0.957,0.771,1.729,1.729,1.729s1.729-0.772,1.729-1.729C15.619,5.14,14.848,4.367,13.891,4.367 M14.502,6.708c-0.326,0.326-0.896,0.326-1.223,0c-0.338-0.342-0.338-0.882,0-1.224c0.342-0.337,0.881-0.337,1.223,0C14.84,5.826,14.84,6.366,14.502,6.708">
            </path>
          </symbol>
          <symbol id="icon-time" viewBox="0 0 20 20">
            <path d="M10.281,1.781C5.75,1.781,2.062,5.469,2.062,10s3.688,8.219,8.219,8.219S18.5,14.531,18.5,10S14.812,1.781,10.281,1.781M10.714,2.659c3.712,0.216,6.691,3.197,6.907,6.908h-6.907V2.659z M10.281,17.354c-4.055,0-7.354-3.298-7.354-7.354c0-3.911,3.067-7.116,6.921-7.341V10c0,0.115,0.045,0.225,0.127,0.305l5.186,5.189C13.863,16.648,12.154,17.354,10.281,17.354M15.775,14.882l-4.449-4.449h6.295C17.522,12.135,16.842,13.684,15.775,14.882"></path>
          </symbol>
                </svg>    
</html>